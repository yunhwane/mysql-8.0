## 공통 코드 추가 속성
- 예를 들어서 실무에서 회원에서 회원 등급별 할인율, 결제 수단별 수수료율

```sql
ALTER TABLE common_code_detail
ADD COLUMN attr1 VARCHAR(100),
ADD COLUMN attr2 VARCHAR(100),
ADD COLUMN attr3 VARCHAR(100);
```

```sql
UPDATE common_code_detail SET attr1 = '0' WHERE group_code = 'MEMBER_GRADE' AND code = 'NORMAL';
UPDATE common_code_detail SET attr1 = '5' WHERE group_code = 'MEMBER_GRADE' AND code = 'VIP';
UPDATE common_code_detail SET attr1 = '10' WHERE group_code = 'MEMBER_GRADE' AND code = 'VVIP';

-- 결제 수단별 수수료율 설정
UPDATE common_code_detail SET attr1 = '2.5' WHERE group_code = 'PAYMENT_METHOD' AND code = 'CARD';
UPDATE common_code_detail SET attr1 = '0' WHERE group_code = 'PAYMENT_METHOD' AND code = 'BANK';
UPDATE common_code_detail SET attr1 = '0' WHERE group_code = 'PAYMENT_METHOD' AND code = 'VIRTUAL';
UPDATE common_code_detail SET attr1 = '3.0' WHERE group_code = 'PAYMENT_METHOD' AND code = 'MOBILE';
```

- 이 방법의 단점은 attr1, attr2 같은 범용적인 이름을 각 그룹에서 이 컬럼이 무엇을 의미하는지 알기 어렵다. 회원은 할인율, 결제 수단은 수수료율이기 때문이다.

```sql
UPDATE common_code_group SET attr1_name = '할인율(%)' WHERE group_code = 'MEMBER_GRADE';
UPDATE common_code_group SET attr1_name = '수수료율(%)' WHERE group_code = 'PAYMENT_METHOD';
```

### EAV (Entity Attribute Value) 방식
- 회원 등급에 필요한 속성이 할인율 하나 뿐일까? 성장하면 적립율, 무료배송여부, 우선상담여부 등등 많은 기획들이 추가될 수 있기 때문이다.
- 복잡한 조인(pivot) 작성해야한다.
- 속성이 고정되어있으면 방법1로 처리하고, 속성이 매우 다양하면 자주 변경된다.

